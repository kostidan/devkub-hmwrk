# Домашнее задание к занятию "11.02 Микросервисы: принципы"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.

## Задача 1: API Gateway 

> Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.
> 
> Решение должно соответствовать следующим требованиям:
> - Маршрутизация запросов к нужному сервису на основе конфигурации
> - Возможность проверки аутентификационной информации в запросах
> - Обеспечение терминации HTTPS
> 
> Обоснуйте свой выбор.


| Продукт | Маршрутизация | Аутентификация | Терминация HTTPS |
|---|---|---|---|
| Kong | + | + | + |
| Tyk.io | + | + | + |
| Apache APISIX | + | + | + |
| APIGee | + | + | + |
| MuleSoft | + | + | + |

Оптимальным будет использование Kong, как наиболее популярного и бесплатного решения, в основе которого лежит достаточно распространенный NGINX.

## Задача 2: Брокер сообщений

> Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.
> 
> Решение должно соответствовать следующим требованиям:
> - Поддержка кластеризации для обеспечения надежности
> - Хранение сообщений на диске в процессе доставки
> - Высокая скорость работы
> - Поддержка различных форматов сообщений
> - Разделение прав доступа к различным потокам сообщений
> - Простота эксплуатации
> 
> Обоснуйте свой выбор.

| Параметр | RabbitMQ | Apache Kafka | ActiveMQ | NATS | Redis | SwiftMQ |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|
| Поддержка кластеризации для обеспечения надежности | + | + | + | + | + | + |
| Хранение сообщений на диске в процессе доставки | + | + | + | + | + | + |
| Высокая скорость работы | +- | + | - | + | + | - |
| Поддержка различных форматов сообщений | AMQP, MQTT, STOMP | Только binary через TCP Socket | 10 форматов, включая AMQP, AUTO, MQTT, REST | Только NATS Streaming Protocol | Только RESP | AMQP, MQTT, JMS |
| Разделение прав доступа к различным потокам сообщений | + | + | + | + | + | + |
| Простота эксплуатации | + | - | + | + | + | - |

Оптимальное решение - это RabbitMQ. Он уудовлетворяет всем параметрам и достаточно хорошо распространен.